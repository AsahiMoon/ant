webpackJsonp([1],{0:function(e,t,r){r("briU"),e.exports=r("NHnr")},"7Otq":function(e,t,r){e.exports=r.p+"static/img/logo.4688bb8.png"},LicG:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),s=r("igoR"),o={name:"App",components:{vueCanvasNest:r.n(s).a}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("vue-canvas-nest"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var i=r("VU/8")(o,n,!1,function(e){r("Yee8")},null,null).exports,l=r("/ocq"),u=r("mvHQ"),c=r.n(u),m={name:"login",data:function(){return{logo:r("7Otq"),form:{name:"",password:""},rules:{name:[{validator:function(e,t,r){""===t&&r(new Error("请输入用户名")),r()},trigger:"blur"}],password:[{validator:function(e,t,r){""===t?r(new Error("请输入密码")):r()},trigger:"blur"}]}}},methods:{submitData:function(){var e={username:this.form.name,password:this.form.password};this.$http.post("/ant/login",e).then(function(e){alert(e.data.message),window.localStorage.token=c()(e.data.extra.token)}).catch(function(e){alert("错误："+e)})},register:function(){this.$router.push({path:"/register"})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.submitData()})}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("img",{attrs:{src:e.logo}}),e._v(" "),r("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[r("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("h2",[e._v("登录")])]),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-form-item",{attrs:{label:"账户：",prop:"name"}},[r("el-input",{attrs:{size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("登录")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)],1)},staticRenderFns:[]};var p=r("VU/8")(m,f,!1,function(e){r("uxlK")},"data-v-66884055",null).exports,d={name:"register",data:function(){var e=this;return{logo:r("7Otq"),form:{name:"",password:"",checkpassword:"",username:"",email:""},rules:{name:[{validator:function(e,t,r){""===t&&r(new Error("请输入用户名")),r()},trigger:"blur"}],password:[{validator:function(e,t,r){""===t?r(new Error("请输入密码")):r()},trigger:"blur"}],checkpassword:[{validator:function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.form.password?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]}}},methods:{submitData:function(){var e={username:this.form.name,password:this.form.password,name:this.form.username,email:this.form.email};this.$http.post("/ant/register",e).then(function(e){alert(e.data.message)}).catch(function(e){alert("错误："+e)})},login:function(){this.$router.push({path:"/"})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.submitData()})}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("img",{attrs:{src:e.logo}}),e._v(" "),r("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px","status-icon":"",rules:e.rules}},[r("h2",[e._v("注册")]),e._v(" "),r("el-form-item",{attrs:{label:"账户：",prop:"name"}},[r("el-input",{attrs:{size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码：",prop:"checkpassword"}},[r("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.checkpassword,callback:function(t){e.$set(e.form,"checkpassword",t)},expression:"form.checkpassword"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"昵称：",prop:"username",rules:{required:!0,message:"昵称不能为空",trigger:"blur"}}},[r("el-input",{attrs:{size:"small"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱：",prop:"email",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}},[r("el-input",{attrs:{size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{staticStyle:{"font-size":"0.7em"}},[e._v("\n                     点击注册表示你已阅读并同意\n                     "),r("el-button",{attrs:{type:"text"}},[e._v("《Ant 服务条款》 ")])],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{staticStyle:{width:"68%","font-size":"1.2em","word-spacing":"2.5em"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("注册")])],1),e._v(" "),r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"center"}},[r("el-col",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                     已有账号？\n                     "),r("el-button",{attrs:{type:"text"},on:{click:e.login}},[e._v("直接登录 → ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var g=r("VU/8")(d,v,!1,function(e){r("V4je")},"data-v-21542c80",null).exports;a.default.use(l.a);var w=new l.a({routes:[{path:"/",name:"Login",component:p},{path:"/Register",name:"Resigter",component:g}]}),h=r("DVuL"),b=r.n(h),y=(r("LicG"),r("//Fk")),_=r.n(y),x=r("aozt"),k=r.n(x);k.a.defaults.timeout=8e3,k.a.interceptors.request.use(function(e){return localStorage.token&&(e.headers.Authorization=localStorage.token),e},function(e){return _.a.reject(e)}),k.a.interceptors.response.use(function(e){return 999===e.data.errno&&(w.replace("/"),console.log("token过期")),e},function(e){return _.a.reject(e)});var $=k.a;a.default.prototype.$http=$,a.default.config.productionTip=!1,a.default.use(b.a),new a.default({el:"#app",router:w,render:function(e){return e(i)}})},V4je:function(e,t){},Yee8:function(e,t){},uxlK:function(e,t){}},[0]);
//# sourceMappingURL=main.383f4709f83afc45dd54.js.map